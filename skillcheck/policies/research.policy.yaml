# Research policy for experimentation with controlled flexibility.
pack: research
version: 2
limits:
  skill_name_max: 64
  skill_description_max: 1400
  skill_compatibility_max: 700
  skill_body_max_lines: 900

frontmatter:
  allow_unknown_fields: true
  legacy_fields:
    - "input"
    - "output"

allow:
  network:
    hosts:
      - "*.openai.com"
      - "api.github.com"
  filesystem:
    read_globs:
      - "SKILL.md"
      - "skill.md"
      - "*.md"
      - "*.txt"
      - "*.yaml"
      - "*.yml"
      - "*.json"
      - "*.toml"
      - "**/*.md"
      - "**/*.txt"
      - "**/*.yaml"
      - "**/*.yml"
      - "**/*.json"
      - "**/*.toml"
      - "scripts/**"
      - "references/**"
      - "assets/**"
    write_globs:
      - "scratch/**"
      - "logs/**"
  tools:
    allowlist: []

dependencies:
  allow_pypi: []
  allow_npm: []

probe:
  enable_exec: false
  exec_globs:
    - "scripts/**/*.py"
    - "*.py"
  timeout: 8

forbidden_patterns:
  - pattern: "(?i)api[_-]?key|secret|token\\s*[:=]"
    reason: "Potential secret detected in SKILL.md or resources"
  - pattern: "curl\\s+http"
    reason: "Raw network call via curl (HTTP/HTTPS) is forbidden without allowlist"
  - pattern: "subprocess\\.(Popen|run)\\("
    reason: "Shelling out is restricted; must be explicitly allowed by policy"

waivers: []
